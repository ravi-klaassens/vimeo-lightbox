/**
 * Custom Video Element
 * Makes video backgrounds responsive with optional lightbox player functionality
 * Compatible with Vimeo and potentially other video platforms
 * 
 * @license MIT
 * @version 1.0.2
 */
!function(){const t="custom-video-container",e="embed-wrapper",n="video-trigger",l="video-lightbox",s="video-player",o="video-controls",a="data-lightbox",i="data-color",r="data-position",d="data-padding-left",c="data-padding-top",u="data-padding-right",y="data-padding-bottom",p="data-full-click",m="00bcd4",C="center",g="0",b="24px",h=16/9,f=1.2,v=t=>`\n      <svg width="${b}" height="${b}" viewBox="0 0 22 27" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M0.5 25.95C0.7 26.05 0.8 26.05 1 26.05C1.2 26.05 1.4 26.05 1.5 25.95L21.5 13.95C21.8 13.75 22 13.45 22 13.05C22 12.65 21.8 12.35 21.5 12.15L1.5 0.15C1.2 -0.05 0.8 -0.05 0.5 0.15C0.2 0.35 0 0.65 0 1.05V25.05C0 25.45 0.2 25.75 0.5 25.95ZM2 2.85L19 13.05L2 23.25V2.85Z" fill="#${t}"/>\n      </svg>\n    `,w=t=>`\n      <svg width="${b}" height="${b}" viewBox="0 0 20 26" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M1 26C1.6 26 2 25.6 2 25V1C2 0.4 1.6 0 1 0C0.4 0 0 0.4 0 1V25C0 25.6 0.4 26 1 26Z" fill="#${t}"/>\n        <path d="M19 26C19.6 26 20 25.6 20 25V1C20 0.4 19.6 0 19 0C18.4 0 18 0.4 18 1V25C18 25.6 18.4 26 19 26Z" fill="#${t}"/>\n      </svg>\n    `,L=t=>`\n      <svg width="${b}" height="${b}" viewBox="0 0 34 30" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M8.6 22.009L18.3 29.809C18.5 29.909 18.7 30.009 18.9 30.009C19 30.009 19.2 30.009 19.3 29.909C19.6 29.709 19.9 29.409 19.9 29.009V1.00902C19.9 0.609017 19.7 0.309017 19.3 0.109017C19 -0.0909831 18.5 0.00901724 18.2 0.209017L8.5 8.00902H5C2.2 8.00902 0 10.209 0 13.009V17.009C0 19.809 2.2 22.009 5 22.009H8.6ZM2 17.009V13.009C2 11.309 3.3 10.009 5 10.009H9C9.2 10.009 9.4 9.90902 9.6 9.80902L18 3.10902V26.909L9.6 20.209C9.4 20.109 9.2 20.009 9 20.009H5C3.3 20.009 2 18.709 2 17.009Z" fill="#${t}"/>\n        <path d="M23.8 18.609C24 18.809 24.3 18.909 24.5 18.909C24.7 18.909 25 18.809 25.2 18.609C26.3 17.509 27 16.009 27 14.409C27 12.809 26.4 11.309 25.2 10.209C24.8 9.80902 24.2 9.80902 23.8 10.209C23.4 10.609 23.4 11.209 23.8 11.609C25.4 13.209 25.4 15.709 23.8 17.309C23.4 17.609 23.4 18.209 23.8 18.609Z" fill="#${t}"/>\n        <path d="M28.8 5.20902C28.4 5.60902 28.4 6.20902 28.8 6.60902C30.9 8.70902 32 11.409 32 14.409C32 17.309 30.9 20.109 28.8 22.209C28.4 22.609 28.4 23.209 28.8 23.609C29 23.809 29.3 23.909 29.5 23.909C29.7 23.909 30 23.809 30.2 23.609C32.7 21.109 34 17.909 34 14.409C34 10.909 32.6 7.70902 30.2 5.20902C29.8 4.80902 29.2 4.80902 28.8 5.20902Z" fill="#${t}"/>\n      </svg>\n    `,x=t=>`\n      <svg width="${b}" height="${b}" viewBox="0 0 35 30" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M34.4 28.6L2.4 0.6C1.9 0.1 1.1 0.1 0.6 0.6C0.1 1.1 0.1 1.9 0.6 2.4L8.2 9.1C7.9 9.3 7.5 9.5 7.1 9.7C6.8 9.9 6.6 9.9 6.4 10.1L1.9 5.6C1.4 5.1 0.6 5.1 0.1 5.6C-0.4 6.1 -0.4 6.9 0.1 7.4L4.6 11.9C3.6 13.9 3.6 16.2 4.6 18.1L0.1 22.6C-0.4 23.1 -0.4 23.9 0.1 24.4C0.3 24.6 0.6 24.7 0.9 24.7C1.2 24.7 1.5 24.6 1.7 24.4L6.2 19.9C6.4 20.1 6.6 20.1 6.9 20.3C7.3 20.5 7.7 20.7 8 20.9L10.6 23.2L19.1 30.1C19.3 30.3 19.6 30.3 19.8 30.3C19.9 30.3 20.1 30.3 20.2 30.2C20.5 30 20.8 29.7 20.8 29.3V19.9L32.6 30.1C32.8 30.3 33.1 30.4 33.4 30.4C33.7 30.4 34 30.3 34.2 30.1C34.9 29.7 34.9 28.9 34.4 28.6ZM18.9 27L11.6 21L8.9 18.7C8.7 18.5 8.3 18.4 8 18.2C7.7 18 7.4 17.9 7.1 17.9C6.2 17.9 5.3 17.6 4.6 17C3.2 15.6 3.2 13.3 4.6 11.8C5.3 11.1 6.2 10.8 7.1 10.8C7.4 10.7 7.7 10.5 8 10.3C8.2 10.1 8.6 10 8.9 9.8L18.9 18.2V27Z" fill="#${t}"/>\n        <path d="M20.6 0.1C20.3 -0.1 19.8 0 19.5 0.2L13.5 5.1C13 5.5 12.9 6.3 13.3 6.8C13.7 7.3 14.5 7.4 15 7L19.8 3V15.1C19.8 15.8 20.4 16.4 21.1 16.4C21.8 16.4 22.4 15.8 22.4 15.1V1.1C22.7 0.7 22.5 0.4 22.1 0.2C21.8 0.1 21.1 -0.1 20.6 0.1Z" fill="#${t}"/>\n        <path d="M32.6 14.4C32.6 11.8 31.8 9.3 30.3 7.3C29.9 6.8 29.1 6.7 28.6 7.1C28.1 7.5 28 8.3 28.4 8.8C29.6 10.5 30.3 12.4 30.3 14.4C30.3 14.7 30.3 14.9 30.3 15.2C30.2 15.9 30.7 16.6 31.4 16.7H31.5C32.2 16.7 32.8 16.2 32.9 15.5C33 15.1 33 14.8 33 14.4H32.6Z" fill="#${t}"/>\n        <path d="M25.3 14.4C25.3 13.2 24.9 12.1 24.2 11.2C23.8 10.7 23 10.6 22.5 11C22 11.4 21.9 12.2 22.3 12.7C22.7 13.2 22.9 13.8 22.9 14.4C22.9 14.7 22.9 14.9 22.8 15.2C22.7 15.9 23.2 16.6 23.9 16.7H24C24.7 16.7 25.3 16.2 25.4 15.5C25.4 15.1 25.4 14.8 25.4 14.4H25.3Z" fill="#${t}"/>\n      </svg>\n    `,$=t=>`\n      <svg width="${b}" height="${b}" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M17 26H25C25.6 26 26 25.6 26 25V17C26 16.4 25.6 16 25 16C24.4 16 24 16.4 24 17V24H17C16.4 24 16 24.4 16 25C16 25.6 16.4 26 17 26Z" fill="#${t}"/>\n        <path d="M1 10C1.6 10 2 9.6 2 9V2H9C9.6 2 10 1.6 10 1C10 0.4 9.6 0 9 0H1C0.4 0 0 0.4 0 1V9C0 9.6 0.4 10 1 10Z" fill="#${t}"/>\n        <path d="M17 2.1H24V9.1C24 9.7 24.4 10.1 25 10.1C25.6 10.1 26 9.7 26 9.1V1.1C26 0.5 25.6 0.1 25 0.1H17C16.4 0.1 16 0.5 16 1.1C16 1.7 16.4 2.1 17 2.1Z" fill="#${t}"/>\n        <path d="M1 26H9C9.6 26 10 25.6 10 25C10 24.4 9.6 24 9 24H2V17C2 16.4 1.6 16 1 16C0.4 16 0 16.4 0 17V25C0 25.6 0.4 26 1 26Z" fill="#${t}"/>\n      </svg>\n    `,A=t=>`\n      <svg width="${b}" height="${b}" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M25.0078 16.0106H17.0078C16.4078 16.0106 16.0078 16.4106 16.0078 17.0106V25.0106C16.0078 25.6106 16.4078 26.0106 17.0078 26.0106C17.6078 26.0106 18.0078 25.6106 18.0078 25.0106V18.0106H25.0078C25.6078 18.0106 26.0078 17.6106 26.0078 17.0106C26.0078 16.4106 25.6078 16.0106 25.0078 16.0106Z" fill="#${t}"/>\n        <path d="M9.01562 0C8.41562 -5.24537e-08 8.01563 0.4 8.01562 1L8.01562 8L1.01562 8C0.415624 8 0.0156244 8.4 0.0156243 9C0.0156242 9.6 0.415624 10 1.01562 10L9.01562 10C9.61562 10 10.0156 9.6 10.0156 9L10.0156 1C10.0156 0.4 9.61563 5.24537e-08 9.01562 0Z" fill="#${t}"/>\n        <path d="M25.0078 8.10239L18.0078 8.10239V1.10239C18.0078 0.502393 17.6078 0.102393 17.0078 0.102393C16.4078 0.102393 16.0078 0.502393 16.0078 1.10239V9.10239C16.0078 9.70239 16.4078 10.1024 17.0078 10.1024L25.0078 10.1024C25.6078 10.1024 26.0078 9.70239 26.0078 9.10239C26.0078 8.50239 25.6078 8.10239 25.0078 8.10239Z" fill="#${t}"/>\n        <path d="M9 16.0106H1C0.4 16.0106 5.24537e-08 16.4106 0 17.0106C-5.24537e-08 17.6106 0.4 18.0106 1 18.0106H8L8 25.0106C8 25.6106 8.4 26.0106 9 26.0106C9.6 26.0106 10 25.6106 10 25.0106L10 17.0106C10 16.4106 9.6 16.0106 9 16.0106Z" fill="#${t}"/>\n      </svg>\n    `,E=t=>`\n      <svg width="${b}" height="${b}" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M0.3 21.7C0.5 21.9 0.8 22 1 22C1.2 22 1.5 21.9 1.7 21.7L11 12.4L20.3 21.7C20.5 21.9 20.8 22 21 22C21.2 22 21.5 21.9 21.7 21.7C22.1 21.3 22.1 20.7 21.7 20.3L12.4 11L21.7 1.7C22.1 1.3 22.1 0.7 21.7 0.3C21.3 -0.1 20.7 -0.1 20.3 0.3L11 9.6L1.7 0.3C1.3 -0.1 0.7 -0.1 0.3 0.3C-0.1 0.7 -0.1 1.3 0.3 1.7L9.6 11L0.3 20.3C-0.1 20.7 -0.1 21.3 0.3 21.7Z" fill="#${t}"/>\n      </svg>\n    `;function k(){M()}function M(){const l=document.querySelectorAll(`.${t}`);l.length&&l.forEach((t=>{const l=t.querySelector(`.${e}`);if(!l)return;const s=t.querySelector("iframe");if(!s)return;if("BODY"===t.parentElement.tagName||"SECTION"===t.parentElement.tagName||"absolute"===window.getComputedStyle(t).position?function(t,e,n){const l=window.innerWidth,s=window.innerHeight;let o,a;a=s,o=a*h,o<l&&(o=l,a=o/h);o*=f,a*=f,t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.overflow="visible",t.style.zIndex="0",e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.overflow="visible",n.style.position="absolute",n.style.width=o+"px",n.style.height=a+"px",n.style.top="50%",n.style.left="50%",n.style.transform="translate(-50%, -50%)",n.style.border="none",n.style.display="block",n.style.opacity="1",n.style.visibility="visible"}(t,l,s):function(t,e,n){"static"===window.getComputedStyle(t).position&&(t.style.position="relative");const l=t.offsetWidth,s=t.offsetHeight;let o,a;e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.overflow="hidden",a=s,o=a*h,o<l&&(o=l,a=o/h);n.style.position="absolute",n.style.width=o+"px",n.style.height=a+"px",n.style.top="50%",n.style.left="50%",n.style.transform="translate(-50%, -50%)",n.style.border="none",n.style.display="block",n.style.opacity="1",n.style.visibility="visible"}(t,l,s),"on"===t.getAttribute(a)){const e="on"===t.getAttribute(p);if(function(t){const e=t.querySelectorAll(`.${n}`);e.forEach((t=>t.remove()));const l=document.createElement("button");l.className=n,l.setAttribute("aria-label","Open video in fullscreen");const s=t.getAttribute(i)||m;l.innerHTML=v(s);const o=t.getAttribute(r)||C,a=t.getAttribute(d)||g,p=t.getAttribute(c)||g,b=t.getAttribute(u)||g,h=t.getAttribute(y)||g;switch(l.style.position="absolute",l.style.background="transparent",l.style.border="none",l.style.padding="0.5em",l.style.cursor="pointer",l.style.zIndex="10",l.style.transition="opacity 0.3s ease, transform 0.2s ease",l.style.pointerEvents="auto",l.style.opacity="0",o){case"top-left":l.style.top=`${p}em`,l.style.left=`${a}em`,l.style.transform="none";break;case"top-right":l.style.top=`${p}em`,l.style.right=`${b}em`,l.style.transform="none";break;case"bottom-left":l.style.bottom=`${h}em`,l.style.left=`${a}em`,l.style.transform="none";break;case"bottom-right":l.style.bottom=`${h}em`,l.style.right=`${b}em`,l.style.transform="none";break;default:l.style.top="50%",l.style.left="50%",l.style.transform="translate(-50%, -50%)"}l.addEventListener("mouseenter",(()=>{l.style.transform="center"===o?"translate(-50%, -50%) scale(1.1)":"scale(1.1)"})),l.addEventListener("mouseleave",(()=>{l.style.transform="center"===o?"translate(-50%, -50%)":"none"})),l.addEventListener("click",(e=>{e.stopPropagation(),e.preventDefault();const n=H(t.querySelector("iframe").src);n&&V(n,t)})),t.appendChild(l),t.addEventListener("mouseenter",(()=>{l.style.opacity="1"})),t.addEventListener("mouseleave",(()=>{l.style.opacity="0"}))}(t),e){t.style.cursor="pointer";const e=document.createElement("div");e.className="video-click-overlay",e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.zIndex="5",e.style.cursor="pointer",e.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation();const n=H(s.src);n&&V(n,t)})),t.appendChild(e)}}}))}function H(t){const e=t.match(/video\/(\d+)/);return e?e[1]:null}function V(t,e){const n=e.querySelector("iframe").src.includes("background=1"),a=document.createElement("div");a.className=l,a.setAttribute("id",`lightbox-${Date.now()}`);const r=e.getAttribute(i)||m;a.style.position="fixed",a.style.top="0",a.style.left="0",a.style.width="100%",a.style.height="100%",a.style.backgroundColor="rgba(0, 0, 0, 0.9)",a.style.zIndex="9999",a.style.display="flex",a.style.justifyContent="center",a.style.alignItems="center";const d=document.createElement("div");d.className=s,d.setAttribute("data-initialized","false"),d.setAttribute("data-playing","false"),d.setAttribute("data-muted","false"),d.setAttribute("data-fullscreen","false"),d.originalContainer=e,d.style.position="relative",d.style.width="80%",d.style.maxWidth="1200px",d.style.backgroundColor="#000";const c=document.createElement("div");c.className="aspect-ratio-container",c.style.position="relative",c.style.paddingBottom="56.25%",c.style.cursor="pointer";const u=document.createElement("div");u.className="video-click-overlay",u.style.position="absolute",u.style.top="0",u.style.left="0",u.style.width="100%",u.style.height="100%",u.style.zIndex="10",u.style.cursor="pointer";const y=document.createElement("iframe");y.src=`https://player.vimeo.com/video/${t}?api=1&background=0&autoplay=0&loop=0&muted=0&controls=0&transparent=0`,y.setAttribute("frameborder","0"),y.setAttribute("allow","autoplay; fullscreen; picture-in-picture"),y.setAttribute("allowfullscreen",""),y.style.position="absolute",y.style.top="0",y.style.left="0",y.style.width="100%",y.style.height="100%";const p=document.createElement("div");p.className=o,p.style.position="absolute",p.style.bottom="0",p.style.left="0",p.style.width="100%",p.style.padding="15px",p.style.background="linear-gradient(transparent, rgba(0,0,0,0.7))",p.style.display="flex",p.style.alignItems="center",p.style.transition="opacity 0.3s ease";const C=document.createElement("div");C.style.display="flex",C.style.alignItems="center",C.style.marginRight="15px";const g=document.createElement("button");g.setAttribute("data-control","play"),g.setAttribute("aria-label","Play"),g.innerHTML=v(r),g.style.background="none",g.style.border="none",g.style.color=`#${r}`,g.style.cursor="pointer",g.style.marginRight="15px",g.style.padding="5px";const b=document.createElement("div");b.style.flex="1",b.style.position="relative";const h=document.createElement("progress");h.setAttribute("max","100"),h.setAttribute("value","0"),h.style.width="100%",h.style.height="5px",h.style.position="absolute",h.style.top="50%",h.style.transform="translateY(-50%)",h.style.borderRadius="3px",h.style.overflow="hidden",h.style.appearance="none",h.style.backgroundColor="#444";const f=document.createElement("input");f.type="range",f.setAttribute("data-control","timeline"),f.setAttribute("min","0"),f.setAttribute("max","100"),f.setAttribute("value","0"),f.setAttribute("step","0.1"),f.style.width="100%",f.style.height="15px",f.style.margin="0",f.style.position="relative",f.style.appearance="none",f.style.backgroundColor="transparent",f.style.cursor="pointer",f.style.zIndex="2";const k=document.createElement("div");k.style.display="flex",k.style.alignItems="center",k.style.marginLeft="10px";const M=document.createElement("button");M.setAttribute("data-control","mute"),M.setAttribute("aria-label","Mute"),M.innerHTML=L(r),M.style.background="none",M.style.border="none",M.style.color=`#${r}`,M.style.cursor="pointer",M.style.marginRight="15px",M.style.padding="5px";const H=document.createElement("button");H.setAttribute("data-control","fullscreen"),H.setAttribute("aria-label","Toggle fullscreen"),H.innerHTML=$(r),H.style.background="none",H.style.border="none",H.style.color=`#${r}`,H.style.cursor="pointer",H.style.padding="5px";const V=document.createElement("button");V.className="lightbox-close",V.innerHTML=E(r),V.style.position="absolute",V.style.top="20px",V.style.right="20px",V.style.background="none",V.style.border="none",V.style.cursor="pointer",V.style.zIndex="10",V.style.padding="5px";const Z=document.createElement("style");Z.textContent=`\n      .${o} progress::-webkit-progress-bar {\n        background-color: #444;\n        border-radius: 3px;\n      }\n      \n      .${o} progress::-webkit-progress-value {\n        background-color: #${r};\n        border-radius: 3px;\n      }\n      \n      .${o} progress::-moz-progress-bar {\n        background-color: #${r};\n        border-radius: 3px;\n      }\n      \n      .${l} button[data-control] {\n        opacity: 0.8;\n        transition: opacity 0.2s ease;\n      }\n      \n      .${l} button[data-control]:hover {\n        opacity: 1;\n      }\n      \n      /* Mobile styles */\n      @media (max-width: 768px) {\n        .${s} {\n          width: 95% !important;\n        }\n        \n        .${o} {\n          padding: 10px !important;\n        }\n        \n        .${o} button {\n          padding: 3px !important;\n        }\n      }\n    `,document.head.appendChild(Z),b.appendChild(h),b.appendChild(f),C.appendChild(g),k.appendChild(M),k.appendChild(H),p.appendChild(C),p.appendChild(b),p.appendChild(k),c.appendChild(u),c.appendChild(y),c.appendChild(p),d.appendChild(c),a.appendChild(V),a.appendChild(d),document.body.appendChild(a),new Promise((t=>{if(window.Vimeo&&window.Vimeo.Player)t();else{const e=document.createElement("script");e.src="https://player.vimeo.com/api/player.js",e.onload=t,document.head.appendChild(e)}})).then((()=>{const t=new Vimeo.Player(y);d.player=t,d.lightbox=a,d.wasBackgroundMode=n,function(t,e){const n=t.player,l=t.lightbox;if(!n||!l)return;const s=l.querySelector('[data-control="play"]'),a=l.querySelector('[data-control="mute"]'),i=l.querySelector('[data-control="fullscreen"]'),r=l.querySelector('[data-control="timeline"]'),d=l.querySelector("progress"),c=l.querySelector(`.${o}`),u=(l.querySelector("iframe"),l.querySelector(".aspect-ratio-container"));t.setAttribute("data-initialized","true"),u&&(u.style.cursor="pointer",u.addEventListener("click",(e=>{e.target===c||c.contains(e.target)||e.target.hasAttribute("data-control")||e.target.closest("[data-control]")||("true"===t.getAttribute("data-playing")?n.pause():n.play())})));s&&s.addEventListener("click",(()=>{"true"===t.getAttribute("data-playing")?(n.pause(),t.setAttribute("data-playing","false"),s.innerHTML=w(e),s.setAttribute("aria-label","Play")):(n.play(),t.setAttribute("data-playing","true"),s.innerHTML=v(e),s.setAttribute("aria-label","Pause"))}));a&&a.addEventListener("click",(()=>{"true"===t.getAttribute("data-muted")?(n.setVolume(1),t.setAttribute("data-muted","false"),a.innerHTML=L(e),a.setAttribute("aria-label","Mute")):(n.setVolume(0),t.setAttribute("data-muted","true"),a.innerHTML=x(e),a.setAttribute("aria-label","Unmute"))}));i&&i.addEventListener("click",(()=>{if(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)t.setAttribute("data-fullscreen","false"),(document.exitFullscreen||document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen).call(document),i.innerHTML=$(e);else{t.setAttribute("data-fullscreen","true");const n=t.querySelector(".aspect-ratio-container");(n.requestFullscreen||n.webkitRequestFullscreen||n.mozRequestFullScreen||n.msRequestFullscreen).call(n),i.innerHTML=A(e)}c&&(c.style.opacity="1")}));r&&["input","change"].forEach((t=>{r.addEventListener(t,(()=>{n.getDuration().then((t=>{const e=r.value/100*t;n.setCurrentTime(e),d&&(d.value=r.value)}))}))}));let y;n.on("timeupdate",(t=>{r&&n.getDuration().then((e=>{const n=t.seconds/e*100;r.value=n,d&&(d.value=n)}))})),n.on("play",(()=>{t.setAttribute("data-playing","true"),s&&(s.innerHTML=w(e),s.setAttribute("aria-label","Pause"))})),n.on("pause",(()=>{t.setAttribute("data-playing","false"),s&&(s.innerHTML=v(e),s.setAttribute("aria-label","Play"))})),n.getDuration().then((t=>{r&&(r.max=100),d&&(d.max=100)})),l.addEventListener("mousemove",(()=>{c&&(c.style.opacity="1"),clearTimeout(y),y=setTimeout((()=>{"true"===t.getAttribute("data-playing")&&"true"===!t.getAttribute("data-fullscreen")&&c&&(c.style.opacity="0")}),3e3)})),l.addEventListener("touchstart",(()=>{c&&(c.style.opacity="1"),clearTimeout(y)})),document.addEventListener("fullscreenchange",(()=>{document.fullscreenElement&&c&&(c.style.opacity="1")})),n.play()}(d,r),u.addEventListener("click",(e=>{e.target===p||p.contains(e.target)||("true"===d.getAttribute("data-playing")?t.pause():t.play())}))})),V.addEventListener("click",(()=>{S(a)})),a.addEventListener("click",(t=>{t.target===a&&S(a)})),document.addEventListener("keydown",(function t(e){"Escape"===e.key&&document.body.contains(a)&&(S(a),document.removeEventListener("keydown",t))}))}function S(t){const e=t.querySelector(`.${s}`);if(e&&e.player){e.getAttribute("data-playing");if(e.player.unload(),e.originalContainer){const t=e.originalContainer.querySelector("iframe");t&&e.wasBackgroundMode&&-1===t.src.indexOf("&autoplay=1")&&(t.src=t.src.replace("autoplay=0","autoplay=1"))}}t.style.opacity="0",setTimeout((()=>{document.body.contains(t)&&document.body.removeChild(t)}),300)}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",k):k(),window.addEventListener("resize",M)}();